 <!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ AI Movie Service</title>
<style>
body { background:#111; color:#fff; font-family:sans-serif; text-align:center; padding:20px; transition: background 0.3s, color 0.3s; }
body.light { background:#f1f5f9; color:#111; }

input, button { padding:10px; margin:5px; border-radius:5px; border:none; }
button { background:#4CAF50; color:#fff; cursor:pointer; }
img { width:200px; border-radius:10px; margin-top:10px; }
#results { margin-top:20px; font-size:16px; text-align:left; max-width:500px; margin-left:auto; margin-right:auto; }
.movie-item { margin-bottom:20px; border-bottom:1px solid #555; padding-bottom:10px; }
#themeBtn { background:#3b82f6; margin-top:10px; width:120px; }
</style>
</head>
<body>

<h2>üé¨ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ AI Movie Service</h2>

<input id="q" placeholder="‡¶Æ‡ßÅ‡¶≠‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (BN / EN)">
<button onclick="searchMovie()">Search</button>
<button id="themeBtn" onclick="toggleTheme()">Theme</button>

<div id="results"></div>

<script>
// Theme toggle
function toggleTheme(){
  document.body.classList.toggle("light");
  localStorage.setItem("theme", document.body.classList.contains("light")?"light":"dark");
}
let savedTheme = localStorage.getItem("theme")||"dark";
if(savedTheme==="light") document.body.classList.add("light");

// Search Movie function
async function searchMovie() {
  const movieName = document.getElementById("q").value.trim();
  if(!movieName) return;

  const results = document.getElementById("results");

  // Create new movie item
  const movieDiv = document.createElement("div");
  movieDiv.className = "movie-item";
  movieDiv.innerText = "Loading...";
  results.prepend(movieDiv);

  try {
    const omdbApiKey = "ac57015f"; // ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶¨‡¶∏‡¶æ‡¶ì
    const res = await fetch(`https://www.omdbapi.com/?t=${encodeURIComponent(movieName)}&apikey=${omdbApiKey}`);
    const data = await res.json();

    if(data.Response==="False"){
      movieDiv.innerText = "‚ùå ‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø";
      return;
    }

    // Translate Plot to Bengali
    let plot = data.Plot;
    try {
      const tr = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=bn&dt=t&q=${encodeURIComponent(plot)}`);
      const trJson = await tr.json();
      plot = trJson[0].map(x=>x[0]).join("");
    } catch{}

    movieDiv.innerHTML = `<strong>${data.Title} (${data.Year})</strong><br>‚≠ê IMDB: ${data.imdbRating}<br>üé≠ ${data.Actors}<br>üìù ${plot}<br><img src="${data.Poster}" alt="Poster">`;

  } catch(err){
    movieDiv.innerText="‚ùå ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶™‡¶∞‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®";
    console.error(err);
  }
}
</script>

</body>
</html>
