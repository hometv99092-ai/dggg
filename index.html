<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Audio Only</title>

<style>
body{font-family:sans-serif;margin:20px}
.item{border:1px solid #ddd;padding:8px;margin:8px 0;display:flex;gap:10px}
img{width:120px}
button{padding:6px 12px}
#player{width:1px;height:1px;overflow:hidden}
</style>
</head>
<body>

<h3>YouTube Audio Player</h3>

<input id="q" placeholder="Search YouTube">
<button onclick="search()">Search</button>

<div id="list"></div>
<div id="player"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;

function onYouTubeIframeAPIReady(){
  player = new YT.Player('player',{
    height:'1',
    width:'1',
    playerVars:{ playsinline:1 },
  });
}

async function search(){
  const q=document.getElementById('q').value;
  const key='AIzaSyAWmTfbLo_lUooiHeOkKhevEFQnypwSNG8';

  const r=await fetch(
    `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=10&q=${encodeURIComponent(q)}&key=${key}`
  );
  const d=await r.json();

  const box=document.getElementById('list');
  box.innerHTML='';

  d.items.forEach(v=>{
    const div=document.createElement('div');
    div.className='item';
    div.innerHTML=`
      <img src="${v.snippet.thumbnails.default.url}">
      <div>
        <div>${v.snippet.title}</div>
        <button onclick="playAudio('${v.id.videoId}')">â–¶ Play Audio</button>
      </div>
    `;
    box.appendChild(div);
  });
}

function playAudio(id){
  player.mute();                 // ðŸ”‘ à¦ªà§à¦°à¦¥à¦®à§‡ mute
  player.loadVideoById(id);
  setTimeout(()=>player.unMute(),300); // ðŸ”Š à¦¤à¦¾à¦°à¦ªà¦° sound
}
</script>

</body>
</html>
